<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>数据分析流程及常用方法 - 栖迟于一丘</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="版权所有，转载请注明出处。工作请联系qiuyuling98@163.com" />
  <meta name="description" content="决定用写文章的方式来梳理自己数据分析的体系，这是系列文章的第一篇：《数据分析流程及常用方法》 数据分析的流程 数据分析闭环的流程为： 明确需求 明确" />

  <meta name="keywords" content="数据分析, Python, Office, 博客, 笔记" />






<meta name="generator" content="Hugo 0.58.3" />


<link rel="canonical" href="http://yulingqiu.github.io/post/data_analysis_methods/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">




<link rel="stylesheet" href="/css/custom.css">


<meta property="og:title" content="数据分析流程及常用方法" />
<meta property="og:description" content="决定用写文章的方式来梳理自己数据分析的体系，这是系列文章的第一篇：《数据分析流程及常用方法》 数据分析的流程 数据分析闭环的流程为： 明确需求 明确" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://yulingqiu.github.io/post/data_analysis_methods/" />
<meta property="article:published_time" content="2019-10-17T15:42:34+08:00" />
<meta property="article:modified_time" content="2019-10-17T15:42:34+08:00" />
<meta itemprop="name" content="数据分析流程及常用方法">
<meta itemprop="description" content="决定用写文章的方式来梳理自己数据分析的体系，这是系列文章的第一篇：《数据分析流程及常用方法》 数据分析的流程 数据分析闭环的流程为： 明确需求 明确">


<meta itemprop="datePublished" content="2019-10-17T15:42:34&#43;08:00" />
<meta itemprop="dateModified" content="2019-10-17T15:42:34&#43;08:00" />
<meta itemprop="wordCount" content="5227">



<meta itemprop="keywords" content="数据分析,笔记," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="数据分析流程及常用方法"/>
<meta name="twitter:description" content="决定用写文章的方式来梳理自己数据分析的体系，这是系列文章的第一篇：《数据分析流程及常用方法》 数据分析的流程 数据分析闭环的流程为： 明确需求 明确"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">栖迟于一丘</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/post/">全部文章</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/about/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      栖迟于一丘
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/post/">全部文章</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://yulingqiu.github.io/about/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">数据分析流程及常用方法</h1>
      
      <div class="post-meta">
        <time datetime="2019-10-17" class="post-time">
          2019-10-17
        </time>
        <div class="post-category">
            <a href="http://yulingqiu.github.io/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"> 数据分析 </a>
            
          </div>
        <span class="more-meta"> 约 5227 字 </span>
          <span class="more-meta"> 预计阅读 11 分钟 </span>

        
        

        
        
          <span id="/post/data_analysis_methods/" class="leancloud_visitors" data-flag-title="数据分析流程及常用方法">
            <span class="post-meta-item-text"> | 阅读 </span>
            <span class="leancloud-visitors-count"></span>
          </span>
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#数据分析的流程">数据分析的流程</a></li>
<li><a href="#数据分析方法">数据分析方法</a>
<ul>
<li><a href="#一-金字塔原理">一、金字塔原理</a>
<ul>
<li><a href="#1-定义">1、定义</a></li>
<li><a href="#2-适用场景">2、适用场景</a></li>
</ul></li>
<li><a href="#二-描述分析">二、描述分析</a>
<ul>
<li><a href="#1-定义-1">1、定义</a></li>
<li><a href="#2-常用统计指标">2、常用统计指标</a></li>
<li><a href="#3-拓展">3、拓展</a></li>
</ul></li>
<li><a href="#三-对比分析">三、对比分析</a></li>
<li><a href="#四-分类分析">四、分类分析</a></li>
<li><a href="#五-结构分析">五、结构分析</a></li>
<li><a href="#六-相关分析">六、相关分析</a>
<ul>
<li><a href="#pearson-皮尔逊-相关系数">Pearson（皮尔逊）相关系数</a></li>
</ul></li>
<li><a href="#七-预测分析">七、预测分析</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<p>决定用写文章的方式来梳理自己数据分析的体系，这是系列文章的第一篇：《数据分析流程及常用方法》</p>

<h2 id="数据分析的流程">数据分析的流程</h2>

<p>数据分析闭环的流程为：</p>

<ol>
<li><p>明确需求</p>

<ul>
<li>明确分析目的（是“拉新”还是“促活”）、分析目标（是新用户还是老用户）、分析口径（比如新用户是指19年10月注册的用户还是19年9月下载的用户）、分析思路、完成时间。</li>
</ul></li>

<li><p>确定思路</p>

<ul>
<li>从分析目的出发，整理需求人思路，请教同事头脑风暴，学习历史资料</li>
</ul></li>

<li><p>处理数据</p>

<ul>
<li>数据来源分为内部来源（数据库、现有报表）和外部来源（爬虫、调查问卷、公开数据集等）</li>
<li>对数据的处理包括：收集数据、数据清洗（空值、异常值、重复值、不同来源数据的整合 ==&gt; 可以考虑用合理值比如平均值、中位数、众数代替）、数据计算（均值等）、数据转化（转化成分类数据，标签化数据）</li>
</ul></li>

<li><p>分析数据</p>

<ul>
<li>下文将介绍常用分析方法。</li>
<li>常用的分析工具有：Excel、SQL、Python、R、SASS等</li>
</ul></li>

<li><p>展示数据</p>

<ul>
<li>用简单直接的方式传达数据包含的信息，增加数据的易读性。</li>
<li>常用的数据图表有：表格、柱状图、折线图、散点图、条形图、饼图、拓扑图等。</li>
<li>常用的工具有：Power BI、Tableau等。</li>
</ul></li>

<li><p>撰写报告</p>

<ul>
<li>以文档形式输出，通过数据全方位地科学分析，为决策提供强有力的依据，从而降低决策风险，增加盈利。</li>

<li><p>常见的报告形式有:PPT、Word、Excel或一些可视化报表。</p></li>

<li><p>注意：报告中要注明分析目标、分析口径、数据来源；报告要体现<strong>结论</strong>、<strong>建议</strong>。</p></li>
</ul></li>

<li><p>效果反馈</p>

<ul>
<li>选择恰当且有代表性的指标，及时监控报告中提出的策略执行进度、执行效果等情况。</li>
<li>反馈的形式有：监控报表（日报、周报）、分析报告（月报、年报）</li>
</ul></li>
</ol>

<h2 id="数据分析方法">数据分析方法</h2>

<p>常用的数据分析方法有：金字塔原理、描述分析、对比分析、分类分析、结构分析、相关分析、预测分析。</p>

<h3 id="一-金字塔原理">一、金字塔原理</h3>

<h4 id="1-定义">1、定义</h4>

<p>用四个字来概括金字塔原理——<strong>结论先行</strong>，再具体一些就是：结论先行，以下统上，归类分组，逻辑递进。意思就是说<strong>先说结论，再进行分点分类递进式论证</strong>。</p>

<p>金字塔原则就是：任何事情都可以归纳出一个中心论点，而此中心论点可由三至七个论据支持，这些一级论据本身也可以是个论点，被二级的三至七个论据支持，如此延伸，状如金字塔。对于金字塔每一层的支持论据，要符合一个原则：MECE原则（Mutually exclusive and collectively exhaustive），即<strong>彼此独立，完全穷尽</strong>。不遗漏才能不误事，不重叠才能不做无用功。</p>

<h4 id="2-适用场景">2、适用场景</h4>

<ol>
<li>尝试解决问题时

<ul>
<li>应该从下到上，收集论据，归纳出中心思想，从而建造成坚实的金字塔。有了这个大致的目标，问题解决起来最有效。</li>
</ul></li>
<li>安排下属解决问题

<ul>
<li>对于某个问题，领导可以根据经验提出假设，迅速列出第一级三至七个支持论据，分别交待给不同的手下。两周后，手下提交报告，领导进行汇总排列，从而建造成坚实的金字塔。有了这个原则，管理起来最有效，领导做得最轻松。</li>
</ul></li>
<li>问题解决后的汇报、交流

<ul>
<li>需要交流的时候，应该从上到下，从金字塔尖向领导/上级汇报。当你在电梯里遇到领导，给你三十秒，你只汇报中心论点和一级支持论据，领导明白了，事情办成了。有了这个原则，交流起来最有效。</li>
</ul></li>
</ol>

<p>金字塔思维可以通过养成绘制思维导图习惯、分类归纳日常事务、总结文章重点、用最少的文字清晰表达自己的方式来训练培养。</p>

<p>当进行一项分析工作的时候，采用倒金字塔结构，自下而上的思考，采用步骤顺序、空间顺序、重要性顺序、演绎顺序的逻辑进行分析；当总结汇报工作的时候，采用正金字塔结构，先说结论，提高工作交流的效率。</p>

<h3 id="二-描述分析">二、描述分析</h3>

<h4 id="1-定义-1">1、定义</h4>

<p>描述分析（即描述性统计分析）：是用来概况数据整体状况以及数据各特征的统计方法。</p>

<p>描述的内容分为集中趋势（均值、中位数、众数、四分位数）、离散程度（方差、标准差、极差、四分位差、变异系数CV = 标准差/平均数的绝对值）、分布形态（偏度、峰度）。</p>

<p>通常我们拿到一份数据集，首先要对获取的数据进行清洗，整理成我们业务所需要的新数据。</p>

<ol>
<li><p>缺失值填充：常用方法：剔除法、均值法、最小邻居法、比率回归法、决策树法。</p></li>

<li><p>正态性检验：很多统计方法都要求数值服从或近似服从正态分布，所以之前需要进行正态性检验。常用方法：非参数检验的K-量检验、P-P图、Q-Q图、W检验、动差法。</p></li>
</ol>

<p>然后再对新数据进行描述性统计分析，常用的是Excel 中自带的分析分析工具（描述性统计分析），Excel加载后即可使用。</p>

<p><img src="../../image/excel_data.png" style="zoom:50%;" /></p>

<p><img src="../../image/excel_data2.png" style="zoom:50%;" /></p>

<h4 id="2-常用统计指标">2、常用统计指标</h4>

<ol>
<li>均值：均值容易受极值的影响，当数据集中出现极值时，所得到的的均值结果将会出现较大的偏差。</li>
<li>中位数：数据按照从小到大的顺序排列时，最中间的数据即为中位数。当数据个数为奇数时，中位数即最中间的数，如果有N个数，则中间数的位置为(N+1)/2；当数据个数为偶数时，中位数为中间两个数的平均值，中间位置的算法是(N+1)/2。中位数不受极值影响，因此对极值缺乏敏感性。</li>
<li>众数：数据中出现次数最多的数字，即频数最大的数值。众数可能不止一个，众数不仅能用于数值型数据，还可用于非数值型数据，不受极值影响。</li>
<li>极差 = 最大值 - 最小值，是描述数据分散程度的量，极差描述了数据的范围，但无法描述其分布状态。且对异常值敏感，异常值的出现使得数据集的极差有很强的误导性。</li>
<li>四分位数：数据从小到大排列并分成四等份，处于三个分割点位置的数值，即为四分位数，四分位数分为上四分位数（数据从小到大排列排在第75%的数字，即最大的四分位数）、下四分位数（数据从小到大排列排在第25%位置的数字，即最小的四分位数）、中间的四分位数即为中位数。四分位数可以很容易地识别异常值。（一般通过箱线图表示数据更直观）</li>
<li>标准差（Standard Deviation） ，也称均方差（mean square error），是各数据偏离平均数的距离的平均数，用σ表示。标准差是方差的算术平方根。标准差能反映一个数据集的离散程度。标准差越大，波动越大，平均数相同的，标准差未必相同。标准差可以反映平均数不能反映出的东西（比如稳定度等）。

<ul>
<li>Excel中可以使用<strong>STDEVP()</strong>函数来计算总体标准差。</li>
</ul></li>
</ol>

<p>描述性统计分析是属于统计学中比较小的一个理论知识，但是在日常的数据分析中，能够快速地让我们对一份数据进行了解，并能够通过科学的图表展示，发现数据规律，进行未知数据的预测。</p>

<h4 id="3-拓展">3、拓展</h4>

<p>环比与同比：</p>

<ul>
<li>环比（环比增长率） = （本期数 - 上期数）/ 上期数 * 100%       ==&gt;可用于监控发展趋势</li>
<li>同比（同比增长率） = （本期数 - 上一同期数） / 上一同期数 * 100%      ==&gt;可用于监控周期性发展变化</li>
</ul>

<p>标准化与归一化（消除量纲影响）：</p>

<ul>
<li>标准化：x* = (x- x的平均值)/σ，应用于数据不稳定，存在异常值和噪音，不符合正态分布的数据，结果将得到一组均值为0，标准差为1，呈正态分布的一组数据。</li>
<li>归一化：x* = (x - min) / (max - min)，应用于数据稳定，不存在极端值，符号正态分布的数据，结果是得到一组范围在[0, 1]的数据</li>
</ul>

<h3 id="三-对比分析">三、对比分析</h3>

<p>可比性原则：对象相似，指标同质</p>

<p>时间标准：时间趋势对比、动作前后对比、去年同期对比、前一时期对比</p>

<p>空间标准：A/B测试、相似空间对比、先进空间对比</p>

<p>特点标准：与计划值对比、与平均值对比、与理论值对比比</p>

<h3 id="四-分类分析">四、分类分析</h3>

<p>定义：根据数据分析对象的特征，按照一定的指标，把数据分析对象分为不同的类别进行研究并深入探索内在的联系与规律。</p>

<p>分组步骤：</p>

<ul>
<li>等距分组：

<ol>
<li>确定维度、组数</li>
<li>确定各组组距。组距 = （max - min) / 组数</li>
<li>根据组距将数据划分至对应组内</li>
</ol></li>
<li>不等距分组

<ol>
<li>确定维度、组数</li>
<li>根据需求确定各组的上限与下限</li>
<li>依据小组上下限进行分组</li>
<li>评估分组后数据结构是否满足需求，若满足，则停止，若不满足，则返回第1步</li>
</ol></li>
</ul>

<p>应用实例:</p>

<p>一维：打标签，用一个维度标准将数据分类。如：性别（男、女），年龄（青年、中年、老年）、客户价值（低价值、一般价值、高价值）、用户状态（沉默用户、活跃用户）</p>

<p>二维：列联表，数据按两个维度分类，两个变量交叉得到的分类。如：年龄与客户价值交叉，可得青年低价值、青年一般价值、青年高价值；中年低价值、中年一般价值、中年高价值；老年低价值、老年一般价值、老年高价值。</p>

<p>二维：矩阵图（四象限图），根据事物的两个重要属性作为横纵坐标轴，组成一个坐标系，进行分类分析。如经典的波士顿矩阵：将高业务增长率和市场份额作为横纵坐标轴，从而把公司的业务分为：明星业务、问题业务、金牛业务、瘦狗业务。</p>

<h3 id="五-结构分析">五、结构分析</h3>

<p>结构分析，即比重分析。是在分类/组分析的基础上计算总体内各组成部分占总体的比重，进而分析总体数据的内部特征。</p>

<p>结构指标（%） = （总体中某一部分 / 总体总量） * 100%</p>

<p>常和分类分析，对比分析搭配使用。</p>

<p>实践举例：</p>

<ul>
<li>一维结构举例：对年龄进行分类&ndash;&gt;对各年龄层占比进行分析&ndash;&gt;和上个月进行对比</li>
<li>二维结构举例：对年龄及性别进行分类&ndash;&gt;对性别年龄层交叉结构分析&ndash;&gt;同期对比</li>
</ul>

<p>生活中，可以尝试对自己的消费支出进行结构分析。</p>

<h3 id="六-相关分析">六、相关分析</h3>

<p>相关分析是研究现象之间是否存在某种依存关系，并对具体有依存关系的现象探讨其相关方向以及相关程度的分析方法。</p>

<p>注意：相关关系并不一定意味着因果关系；但因果关系一定是相关关系。</p>

<p>分析种类：简单相关分析、偏相关分析、距离相关分析。</p>

<ul>
<li><p>简单相关分析是对两个变量(一个自变量和因变量)间的相关关系的分析方法。</p></li>

<li><p>偏相关分析是指当两个变量同时与第三个变量相关时，将第三个变量的影响剔除，只分析另外两个变量之间相关程度的过程 。</p></li>
</ul>

<p>偏相关分析是指当两个变量同时与第三个变量相关时，将第三个变量的影响剔除，只分析另外两个变量之间相关程度的过程 。</p>

<ul>
<li>距离相关分析是为了判别错综复杂的变量及其观测值之间是否具有相似性，是否属于同一类别采用的更为复杂的分析手段。</li>
</ul>

<p>了解具体的相关系数之前，先了解一些基本概念：</p>

<p>方差这一概念的目的是为了表示数据集中数据点的离散程度；其数学定义为：
<img src="https://img-blog.csdn.net/20170507173217005?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveGlkaWFuY29kZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" /></p>

<p>标准差（σ）与方差一样，表示的也是数据点的离散程度；其在数学上定义为方差的平方根：
<img src="https://img-blog.csdn.net/20170507173255022?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveGlkaWFuY29kZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" /></p>

<p>协方差（Covariance），协方差是一个反映两个随机变量相关程度的指标，如果一个变量跟随着另一个变量同时变大或者变小，那么这两个变量的协方差就是正值，反之相反，公式如下：</p>

<p><img src="https://pic4.zhimg.com/80/0dfac74fd0cc7e4670fc04e15a5d79e2_hd.jpg" alt="" /></p>

<h4 id="pearson-皮尔逊-相关系数">Pearson（皮尔逊）相关系数</h4>

<p>皮尔逊相关系数适用于：</p>

<p>(1)、两个变量之间是线性关系，都是连续数据。</p>

<p>(2)、两个变量的总体是正态分布，或接近正态的单峰分布。（可以先对数据进行标准化处理）</p>

<p>(3)、两个变量的观测值是成对的，每对观测值之间相互独立。</p>

<p>Pearson相关系数公式如下：</p>

<p><img src="https://pic3.zhimg.com/80/95c7b4484dc46f28390c4de96c83b915_hd.jpg" alt="" /></p>

<p>或</p>

<p><img src="../../image/Pearson相关系数公式.png"/></p>

<p>以上列出的两个个公式等价，其中E是数学期望，cov表示协方差。</p>

<p>pearson是一个介于-1和1之间的值。</p>

<table>
<thead>
<tr>
<th>相关系数r</th>
<th>相关方向</th>
</tr>
</thead>

<tbody>
<tr>
<td>r  &gt; 0</td>
<td>正相关</td>
</tr>

<tr>
<td>r  = 0</td>
<td>不存在线性相关</td>
</tr>

<tr>
<td>r  &lt;  0</td>
<td>负相关</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>相关系数r</th>
<th>相关程度</th>
</tr>
</thead>

<tbody>
<tr>
<td>0.0 &lt;= |r|  &lt; 0.3</td>
<td>不相关</td>
</tr>

<tr>
<td>0.3  &lt;= |r|  &lt; 0.5</td>
<td>弱相关</td>
</tr>

<tr>
<td>0.5  &lt;= |r| &lt;0.8</td>
<td>中度相关</td>
</tr>

<tr>
<td>0.8  &lt;= |r| &lt;= 1.0</td>
<td>强相关</td>
</tr>
</tbody>
</table>

<p>《数据挖掘导论》给出了一个很好的图来说明：</p>

<p><img src="https://pic4.zhimg.com/80/e31afcd8a6fa446a5b5b0bdd87606f1d_hd.jpg" alt="" /></p>

<p>在Excel中，可以使用<strong>CORREL()</strong>函数或<strong>PEARSON()</strong>函数或者使用数据分析工具来计算Pearson相关系数。</p>

<p>日常使用中，相关分析的判断方式基本为：</p>

<ol>
<li>绘制散点图，可视化呈现相关关系（大致判断是否相关，有无计算相关系数的必要）</li>
<li>计算相关系数（大部分情况会使用Pearson相关系数）</li>
<li>进行判断</li>
</ol>

<h3 id="七-预测分析">七、预测分析</h3>

<p>预测分析是一种统计或数据挖掘解决方案，通过处理目前数据来预测未来结果或趋势的分析方法。</p>

<p>基本原理：</p>

<ol>
<li>惯性原理：通过研究业务的过去和现在的状态，找出其变化的规律，向未来延伸，从而预测其未来状态的原理。前提是“业务的稳定性”。</li>
<li>相关原理：“因果关系”，“依存关系”</li>
<li>类推原理：利用类似事物、已知事物的变化规律来预测未来状态</li>
<li>概率推断原理：小概率事件不可能发生</li>
</ol>

<p>主要作用：精准营销（预知用户行为，并根据用户行为匹配最优营销策略，比如商品推荐）、规避风险（提前预知风险的发生）</p>

<p>预测方法：</p>

<ul>
<li>定性分析法（主要应用于无历史数据可参考的情况）

<ul>
<li>专家会议法</li>
<li>德尔菲法</li>
<li>类推预测法</li>
</ul></li>
<li>定量分析法（有历史数据参考，比定性分析精准一些）

<ul>
<li>简单平均法、移动平均法（无法反映数据的波动、变化趋势）</li>
<li>一元线性回归预测法、多元线性回归预测法、非线性回归预测法</li>
<li>……</li>
</ul></li>
</ul>

<p>多元回归分析(Multiple Regression Analysis)是指在相关变量中将<strong>一个变量视为因变量</strong>，其他<strong>一个或多个变量视为自变量</strong>，建立多个变量之间线性或非线性数学模型数量关系式并利用样本数据进行分析的统计分析方法。</p>

<p>定量分析法部分需要深入学习统计学知识，本文不作进一步介绍。</p>

<hr />

<p>OK，本文首先介绍了数据分析的流程（明确需求-确定思路-处理数据-分析数据-展示数据-撰写报告-效果反馈），然后介绍了一些常用的数据分析方法（金字塔原理、描述分析、对比分析、分类分析、结构分析、相关分析、预测分析）。本章内容主要是数据分析的“道”，是我们工作的思路、工作的指导方向，我个人觉得比“术”更加重要，图表可视化做得再美观也没有实际的结论来得更实际。</p>

<blockquote>
<p>本文的理论来源不限于《金字塔原理》、知乎上有关数据分析的回答，网易云课堂上的课程等，本文仅为本人对所学知识的整理与归纳，会引用我记不清是哪儿来的话，如有侵权，请联系我删改，在此谢谢所有知识分享者。</p>
</blockquote>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">版权所有，转载请注明出处。工作请联系qiuyuling98@163.com</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2019-10-17
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content">原创文章，如需转载请注明文章作者和出处。谢谢！</span>
  </p>
</div>


    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/reward_wechat.png">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/reward_alipay.jpg">
        <span>支付宝打赏</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://yulingqiu.github.io/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
          <a href="http://yulingqiu.github.io/tags/%E7%AC%94%E8%AE%B0/">笔记</a>
          
        </div>

      
      <nav class="post-nav">
        
        
          <a class="next" href="/post/mysql_exercises/">
            <span class="next-text nav-default">牛客网-MySQL实战</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    显示 Disqus 评论
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "http://yulingqiu.github.io/post/data_analysis_methods/";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'yuling';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:qiuyuling98@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://twitter.com/xian_min" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="https://github.com/xianmin" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://weibo.com/xianmin12" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/people/xian-min" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
    <a href="https://www.douban.com/people/xianmin12/" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>
  
    <a href="https://coding.net/u/xianmin" rel="me noopener" class="iconfont"
      title="coding"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  width="36" height="36">
  <path
      d="m 313.5359,557.51414 c 9.229,0 16.57801,8.88719 16.57801,19.99616 0,11.10899 -7.34901,19.99617 -16.57801,19.99617 -9.229,0 -16.57801,-8.88718 -16.57801,-19.99617 0,-11.10897 7.34901,-19.99616 16.57801,-19.99616 z m 393.7706,0 c 9.22899,0 16.57802,8.88719 16.57802,19.99616 0,11.10899 -7.34903,19.99617 -16.57802,19.99617 -9.229,0 -16.57802,-8.88718 -16.57802,-19.99617 0,-11.10897 7.34902,-19.99616 16.57802,-19.99616 z"
      id="path6"/>
  <path
      d="m 945.8932,448.98796 c -27.17427,0 -51.1013,17.26164 -64.43208,43.23957 C 836.17066,393.44306 741.8298,302.00762 625.27096,264.23708 562.37704,239.1137 518.28294,190.57601 512.8139,134.17657 507.34486,190.74691 463.25077,239.1137 400.35685,264.23708 283.79802,301.83671 189.45714,393.44306 144.16669,492.22753 130.83591,466.2496 107.07979,448.98796 79.734607,448.98796 c -41.701401,0 -75.541066,40.84686 -75.541066,91.26454 0,50.41768 33.839665,91.26454 75.541066,91.26454 12.64715,0 24.610663,-3.75996 35.206923,-10.42536 3.58906,163.55837 180.30728,269.69186 397.87237,270.03367 217.5651,-0.34181 394.28332,-106.4753 397.87238,-270.03367 10.42535,6.6654 22.55977,10.42536 35.20692,10.42536 41.7014,0 75.541,-40.84686 75.541,-91.26454 0.171,-50.41768 -33.6687,-91.26454 -75.541,-91.26454 z M 114.2579,568.79403 c -3.58906,13.15987 -19.312535,18.79981 -35.206921,12.47625 -15.894385,-6.15267 -25.977916,-21.87616 -22.388867,-35.03602 3.58906,-13.15987 19.312533,-18.79981 35.206919,-12.47624 15.894389,6.15267 25.807019,21.87614 22.388869,35.03601 z m 398.556,276.69904 C 338.31748,845.15126 196.97707,762.603 196.97707,644.33509 c 0,-2.56361 0.1709,-4.95631 0.1709,-7.34902 0,-0.85453 0,-1.53817 0.17092,-2.3927 0.1709,-1.70908 0.34181,-3.41814 0.34181,-4.95631 0.1709,-2.22179 0.51273,-4.44359 0.85454,-6.6654 0,-0.1709 0,-0.51271 0.1709,-0.68362 3.58906,-23.2434 12.47624,-58.79214 26.14883,-79.13012 32.64331,-47.51224 90.92273,-78.9592 157.23479,-78.9592 51.1013,0 97.41721,18.79981 130.91506,49.05041 33.49784,-30.2506 79.64283,-49.05041 130.91504,-49.05041 66.48298,0 124.59148,31.61786 157.23479,78.9592 13.67259,20.50889 22.55977,55.88672 26.14883,79.13012 0,0.17091 0,0.51272 0.17091,0.68362 0.34182,2.22181 0.51272,4.44361 0.85453,6.6654 0.17091,1.70907 0.34181,3.24723 0.34181,4.95631 0,0.85453 0.17092,1.53817 0.17092,2.3927 0.17091,2.39271 0.17091,4.95631 0.17091,7.34902 C 828.82165,762.603 687.48124,845.15126 512.8139,845.49307 Z M 946.74774,581.27028 c -15.89439,6.15265 -31.61787,0.68362 -35.20692,-12.47625 -3.58906,-13.15987 6.49448,-28.88334 22.38887,-35.03601 15.89438,-6.15267 31.61786,-0.68363 35.20692,12.47624 3.41815,12.98896 -6.49448,28.71243 -22.38887,35.03602 z"
      id="path8"/>
</svg>

    </a>


<a href="http://yulingqiu.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        版权所有，转载请注明出处。工作请联系qiuyuling98@163.com
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>



  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>









  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  







  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script type="text/javascript">
    AV.initialize("CI5I8j1EukaHvGfYTg7Jpl3J-gzGzoHsz", "hsTbeRKvb1d22ppbvmV2zHii");
  </script>

  <script>
    function showHitCount(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push($(this).attr("id").trim());
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var hits = item.get('hits');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(hits);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function (results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("hits");
            counter.save(null, {
              success: function (counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('hits'));
              },
              error: function (counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
             
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
             
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("hits", 1);
            newcounter.save(null, {
              success: function (newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('hits'));
              },
              error: function (newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function (error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function () {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        
        addCount(Counter);
      } else if ($('.post-link').length > 1) {
        
        showHitCount(Counter);
      }
    });
  </script>








  <script src="/js/custom.js"></script>


</body>
</html>
